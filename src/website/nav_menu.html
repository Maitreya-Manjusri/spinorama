<div class="block my-1 mx-1">

  <nav class="level is-light is-mobile">

    <div class="level-left">
      <div class="level-item is-left dropdown is-hoverable" id="menu-main">
        <div class="dropdown-trigger" id="menu-main-trigger">
          <button type="button" class="button" aria-haspopup="true" aria-controls="menu-main" value="menu-main" aria-label="menu-main">
            <span class="icon">
              <i class="fas fa-solid fa-bars" aria-hidden="true"></i>
            </span>
          </button>
        </div>
        <div class="dropdown-menu" id="menu-main-dropdown" role="menu">
          <div class="dropdown-content">
            ${menuMain()}
          </div>
        </div>
      </div>
      <div class="level-item is-hidden-mobile py-0 my-0">
        <a href="/" class="is-size-4 is-hidden-mobile">
          <img src="/icons/icon-bookshelves.svg" alt="SPINorama" width="44">
          <b>SPIN</b>orama
        </a>
      </div>
    </div>

    <div class="level-right">
      <div class="level-item is-hoverable px-0">
        <div class="field has-addons">
          <div class="control has-icons-right is-expended">
            <input id="searchInput" class="input is-info is-align-self-flex-end" type="text" placeholder="brand or model ...">
            <div class="icon is-right"><i class="fas fa-search"></i></div>
          </div>
          <div class="control">
            <div class="dropdown is-hoverable is-right" id="filters-dropdown">
              <div class="dropdown-trigger" id="filters-dropdown-trigger">
                <button type="button" class="button" aria-haspopup="true" aria-controls="filters-dropdown-menu" value="filter" aria-label="filter">
                  <span class="icon">
                    <i class="fas fa-sliders" aria-hidden="true"></i>
                  </span>
                </button>
              </div>
              <div class="dropdown-menu" id="filters-dropdown-menu" role="menu">
                <div class="dropdown-content">
                  <div class="dropdown-item">
                    <div class="label">Filter by:</div>
                  </div>
                  <hr class="dropdown-divider">
                  ${filters()}
                  <hr class="dropdown-divider">
                  <div class="dropdown-item">
                    <div class="label">Sort by:</div>
                  </div>
                  ${sortBy()}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

</div>

<%def name="menuMain()">
  <a class="dropdown-item" href="${site}/index.html">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fas fa-solid fa-house"></i></span>
      Home
    </div>
  </a>
  <a class="dropdown-item"
     href="${site}/eqs.html">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fas fa-solid fa-wand-magic-sparkles"></i></span>
      EQs
    </div>
  </a>
  <a class="dropdown-item"
     href="${site}/compare.html">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fas fa-solid fa-scale-unbalanced"></i></span>
      Compare
    </div>
  </a>
  <a class="dropdown-item"
     href="${site}/similar.html">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fas fa-solid fa-scale-balanced"></i></span>
      Similar
    </div>
  </a>
  <a class="dropdown-item"
     href="${site}/scores.html?quality=High">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fas fa-solid fa-table"></i></span>
      Ranking
    </div>
  </a>
  <a class="dropdown-item"
     href="${site}/statistics.html">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fas fa-solid fa-chart-column"></i></span>
      Statistics
    </div>
  </a>
  <a class="dropdown-item" href="${site}/help.html">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fas fa-regular fa-circle-question"></i></span>
      Help
    </div>
  </a>
  <a class="dropdown-item" href="https://github.com/pierreaubert/spinorama">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fab fa-lg fa-github-alt"></i></span>
      Code
    </div>
  </a>
  <a class="dropdown-item" href="https://github.com/pierreaubert/spinorama/issues">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fas fa-regular fa-bug"></i></span>
      Bugs
    </div>
  </a>
  <a class="dropdown-item" href="https://github.com/pierreaubert/spinorama/discussions">
    <div class="has-icons-left">
      <span class="icon is-left"><i class="fas fa-regular fa-comment"></i></span>
      Feedback
    </div>
  </a>
</%def>

<%def name="filters()">
  ${filterQuality()}
  ${filterReviewer()}
  ${filterShape()}
  ${filterPower()}
  ${filterBrand()}
  ${filterPrice()}
</%def>

<%def name="filterQuality()">
<div class="dropdown-item">
  <div class="field">
    <div class="control has-icons-left">
      <div class="select">
        <select id="selectQuality">
          <option value="">Measurements Quality</option>
          <option value="high">High</option>
          <option value="medium">Medium</option>
          <option value="low">Low</option>
	  <option value="unknown">Unknown</option>
        </select>
      </div>
      <div class="icon is-left"><i class="fas fa-chart-line"></i></div>
    </div>
  </div>
</div>
</%def>

<%def name="filterReviewer()">
<div class="dropdown-item">
  <div class="field">
    <div class="control has-icons-left">
      <div class="select">
        <select id="selectReviewer">
          <option value="">Reviewer</option>
          <option value="ASR">ASR</option>
          <option value="ErinsAudioCorner">ErinsAudioCorner</option>
	  <option value="Princeton">Princeton</option>
	  <%include file="reviewers.html"/>
        </select>
      </div>
      <div class="icon is-left"><i class="fas fa-user-alt"></i></div>
    </div>
  </div>
</div>
</%def>

<%def name="filterShape()">
<div class="dropdown-item">
  <div class="field">
    <div class="control has-icons-left">
      <div class="select">
        <select id="selectShape">
          <option value="">Shape</option>
          <option value="bookshelves">Bookshelves</option>
          <option value="floorstanders">Floorstanders</option>
          <option value="center">Center</option>
          <option value="surround">Surround</option>
          <option value="omnidirectional">Omnidirectional</option>
          <option value="outdoor">Outdoor</option>
          <option value="columns">Columns</option>
          <option value="cbt">CBT</option>
          <option value="panel">Panel</option>
          <option value="inwall">In Wall</option>
          <option value="soundbar">Soundbar</option>
          <option value="cinema">Cinema</option>
          <option value="liveportable">Live Portable</option>
          <option value="toursound">Tour Sound</option>
        </select>
      </div>
      <div class="icon is-left"><i class="fas fa-shapes"></i></div>
    </div>
  </div>
</div>
</%def>

<%def name="filterPower()">
<div class="dropdown-item">
  <div class="field">
    <div class="control has-icons-left">
      <div class="select">
        <select id="selectPower">
          <option value="">Powered?</option>
          <option value="active">Active</option>
          <option value="passive">Passive</option>
        </select>
      </div>
      <div class="icon is-left"><i class="fas fa-plug"></i></div>
    </div>
  </div>
</div>
</%def>

<%def name="filterBrand()">
<div class="dropdown-item">
  <div class="field">
    <div class="control has-icons-left">
      <div class="select">
        <select id="selectBrand">
          <option value="">Brand</option>
          <%include file="brands.html"/>
        </select>
      </div>
      <div class="icon is-left"><i class="fas fa-copyright"></i></div>
    </div>
  </div>
</div>
</%def>

<%def name="filterPrice()">
<div class="dropdown-item">
  <div class="label">Price (each):</div>
</div>
<div class="dropdown-item">
  <div class="field is-grouped is-horizontal">
    <div class="control has-icons-left">
      <input class="input" type="text" placeholder="Min" size="4" maxlength="5" id="inputPriceMin">
      <div class="icon is-left"><i class="fas fa-dollar-sign"></i></div>
    </div>
    <div class="control has-icons-left">
      <input class="input" type="text" placeholder="Max" size="4" maxlength="5" id="inputPriceMax">
      <div class="icon is-left"><i class="fas fa-dollar-sign"></i></div>
    </div>
  </div>
</div>
</%def>

<%def name="sortBy()">
<div class="dropdown-item">
  <div class="control has-icons-left">
    <div class="select">
      <select id="sortBy">
        <option value="brand">Brand</option>
        <option value="score">Score</option>
        <option value="scoreWSUB">Score with Subwoofer</option>
        <option value="scoreEQ">Score with EQ</option>
        <option value="scoreEQWSUB">Score with EQ and Subwoofer</option>
        <option value="date" selected>Date</option>
        <option value="price">Price ($$$)</option>
        <option value="f3">F3 (Hz)</option>
        <option value="f6">F6 (Hz)</option>
        <option value="flatness">Flatness (dB)</option>
        <option value="sensitivity">Sensitivity (dB)</option>
        <option value="weight">Weight (kg)</option>
        <option value="width">Width (m)</option>
        <option value="height">Height (m)</option>
        <option value="depth">Depth (m)</option>
      </select>
    </div>
    <div class="icon is-left"><i class="fas fa-sort"></i></div>
  </div>
</div>
</%def>
